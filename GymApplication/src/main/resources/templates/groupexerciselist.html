<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <title>Gym Application</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<style>
img {
  width: 100%;
}
.jumbotron{
  height : 20px;
}

.modal-content{
	padding: 20px;
}
</style>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark navbar-inverse">
 <div class="container-fluid">
    <div class="navbar-header">
<a class="navbar-brand" href="/">NOORAS GYM</a>
</div>
  <ul class="nav navbar-nav">
    <li class="nav-item active">
      <a class="nav-link" href="/groupexerciselist">Group Exercise</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/gym">About Gym</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/contact">Contact</a>
    </li>
    </ul>
    <div class="nav navbar-nav ml-auto">
    <form class="navbar-form navbar-left" th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out" class="btn btn-sm btn-danger"/>
    </form>
    </div>
    </div>
    </nav>
 <div class="jumbotron bg-white">
  <h1 class="display-4">Group Exercises</h1>
  <p class="lead" sec:authorize="hasAuthority('ADMIN')">Welcome Admin! Here you can add, edit and delete group exercises and categories. </p>
</div>
	<div class="col-md-4" style="padding:20px 0">
	</div>
	<table class="table table-striped">
		<tr>
			<th>Name</th>
			<th></th>
			<th>Duration</th>
			<th>Starting time</th>
			<th>Ending time</th>
			<th>Date</th>
			<th>Category</th>
		</tr>

		<tr th:each="groupexercise : ${groupexercises}">
			<td th:text="${groupexercise.name}"></td>
			<td>
			<!-- Large modal -->
				<button type="button" class="btn btn-primary" data-toggle="modal" th:attr="data-target=${'#modal' + groupexercise.id}">Description</button>

				<div class="modal fade bd-example-modal-lg" th:id="${'modal' + groupexercise.id}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  				<div class="modal-dialog modal-lg">
    			<div class="modal-content" th:text="${groupexercise.desc}">
 			   </div>
  			</div>
		</div></td>
			<td th:text="${groupexercise.duration}"></td>
			<td th:text="${groupexercise.startingTime}"></td>
			<td th:text="${groupexercise.endingTime}"></td>
			<td th:text="${groupexercise.date}"></td>
			<td th:text="${groupexercise.category.name}"></td>
			
			<td sec:authorize="hasAuthority('ADMIN')"><a class="btn btn-danger" th:href="@{/delete/{id}(id=${groupexercise.id})}">Delete</a></td>
		    <td sec:authorize="hasAuthority('ADMIN')"><a th:href="@{/edit/{id}(id=${groupexercise.id})}">Edit</a></td>
		</tr>
	</table>
 <a class="btn btn-success" sec:authorize="hasAuthority('ADMIN')" href="/add">Add Group Exercise</a>  
 <a class="btn btn-success" sec:authorize="hasAuthority('ADMIN')" href="/addcategory">Add Category</a>
  <a class="btn btn-success" sec:authorize="hasAuthority('ADMIN')" href="/categorylist">See Categorylist</a>

  <div class="col-md-4" style="padding:20px 0">
	</div>
  <div>
  <img src="https://images.pexels.com/photos/903171/pexels-photo-903171.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"/>
</div>
</body>
</html>